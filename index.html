<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>For You üíó</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- üéµ Background Music -->
  <audio id="bg-music" loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/10/30/audio_54c8c4c2c6.mp3?filename=romantic-piano-ambient-125566.mp3" type="audio/mpeg">
  </audio>

  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", "Comic Sans MS", sans-serif;
      background: linear-gradient(135deg, #ffd6e8, #ffeaf4);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    /* üíû FLOATING HEARTS */
    .heart {
      position: fixed;
      bottom: -40px;
      font-size: 24px;
      animation: floatUp linear infinite;
      opacity: 0.8;
      pointer-events: none;
    }

    @keyframes floatUp {
      from { transform: translateY(0); opacity: 0.8; }
      to { transform: translateY(-110vh); opacity: 0; }
    }

    .card {
      background: #fff0f6;
      border-radius: 28px;
      padding: 28px;
      width: 100%;
      max-width: 420px;
      box-shadow: 0 25px 50px rgba(255, 105, 180, 0.25);
      text-align: center;
      z-index: 10;
    }

    h2 {
      color: #d63384;
      margin-bottom: 14px;
    }

    .btn {
      width: 100%;
      padding: 14px;
      margin-top: 14px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #ff69b4, #ff85c1);
      color: white;
      font-size: 16px;
      cursor: pointer;
    }

    .btn:hover {
      transform: scale(1.03);
    }

    .option {
      background: white;
      border: 2px solid #ffb6d5;
      color: #d63384;
    }

    .other-input {
      width: 100%;
      padding: 14px;
      border-radius: 999px;
      border: 2px solid #ffb6d5;
      margin-top: 14px;
      font-size: 15px;
      text-align: center;
      background: linear-gradient(135deg, #fff, #ffeaf4);
      outline: none;
    }

    .other-input:focus {
      border-color: #ff69b4;
      box-shadow: 0 0 12px rgba(255,105,180,0.6);
    }

    input[type="range"] {
      width: 100%;
      accent-color: #ff69b4;
    }

    .red {
      color: #e03131;
      font-weight: bold;
      margin-top: 10px;
    }

    .small {
      margin-top: 14px;
      font-size: 14px;
      color: #ff8fb1;
    }

    .answer {
      text-align: left;
      margin-top: 10px;
    }

    /* üîí PASSWORD CENTERING */
    .password-box {
      display: flex;
      flex-direction: column;
      gap: 14px;
      align-items: center;
    }
  </style>
</head>

<body>
  <div class="card" id="app"></div>

  <script>
    /* üíû HEARTS */
    setInterval(() => {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.textContent = "üíû";
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.animationDuration = 6 + Math.random() * 4 + "s";
      heart.style.fontSize = 18 + Math.random() * 20 + "px";
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 10000);
    }, 600);

    const PASSWORD = "MMUAH";
    const music = document.getElementById("bg-music");

    const questions = [
      { type: "scale", text: "Firstlyyyyyy, how much do you honestly love me?" },
      { text: "When you miss me, what do you want most?", options: ["Hug me", "Call me", "See me in person"] },
      { text: "What‚Äôs your favorite way I show love?", options: ["Words", "Actions", "Physical affection"] },
      { text: "If we had free time right now, what would you choose?", options: ["Cuddle and talk", "Go out together", "Night walk together"] },
      { text: "What makes you smile faster when it‚Äôs from me?", options: ["A sweet text", "My voice", "Seeing my face"] },
      { text: "How do you feel when I hug you?", options: ["Safe", "Happy", "All of the above"] },
      { text: "What‚Äôs your favorite ‚Äúus‚Äù moment?", options: ["Laughing together", "Watching together", "Late night talks together"] },
      { text: "If I surprised you, you‚Äôd prefer‚Ä¶ (I know your answer already)", options: ["A love letter", "A thoughtful gift", "Stocks of ramen"] },
      { text: "What do you crave more from me?", options: ["Reassurance", "Attention", "Affection"] },
      { text: "When you think about me, you feel‚Ä¶", options: ["Warm", "Loved", "Miss me"] }
    ];

    let current = 0;
    let answers = [];
    let attempts = 0;
    let unlocked = false;

    const app = document.getElementById("app");

    function passwordScreen() {
      app.innerHTML = `
        <h2>üîí Secret Entrance üíó</h2>
        <div class="password-box">
          <p style="color:#d63384">Only someone special knows the password</p>
          <input class="other-input" id="pw" placeholder="Enter password‚Ä¶" />
          <button class="btn" id="unlock">Unlock üíñ</button>
          <div id="error" class="red"></div>
        </div>
      `;

      document.getElementById("unlock").onclick = () => {
        const val = document.getElementById("pw").value;
        if (val === PASSWORD) {
          unlocked = true;
          music.volume = 0.4;
          music.play();
          render();
        } else {
          document.getElementById("error").textContent = "Hmm‚Ä¶ that‚Äôs not it üí≠";
        }
      };
    }

    function render() {
      if (!unlocked) {
        passwordScreen();
        return;
      }

      app.innerHTML = "";

      if (current >= questions.length) {
        app.innerHTML = `
          <h2>A Letter For You üíå</h2>
          <p style="color:#d63384; line-height:1.6">
            My love,<br><br>
            I made this little quiz not to test you ‚Äî but to smile at every answer you gave.
            No matter what you picked‚Ä¶ you picked <b>us</b>.
            <br><br>
            And I choose you. Always.
          </p>
          ${answers.map(a => `
            <div class="answer">
              <b>${a.q}</b><br/>üíó ${a.a}
            </div>
          `).join("")}
          <p class="small">Forever yours üíó</p>
        `;
        return;
      }

      const q = questions[current];
      app.innerHTML = `<h2>${q.text}</h2>`;

      if (q.type === "scale") {
        attempts = 0;
        app.innerHTML += `
          <div id="scaleValue" style="font-size:32px;color:#ff69b4">100%</div>
          <input id="scale" type="range" min="0" max="100" value="100" />
          <div id="msg"></div>
          <button class="btn" id="next">Continue üíñ</button>
        `;

        document.getElementById("scale").oninput = e =>
          document.getElementById("scaleValue").textContent = e.target.value + "%";

        document.getElementById("next").onclick = () => {
          const val = document.getElementById("scale").value;
          const msg = document.getElementById("msg");

          if (val == 100) {
            answers.push({ q: q.text, a: val + "%" });
            current++;
            render();
          } else {
            attempts++;
            msg.className = "red";
            msg.textContent =
              attempts === 1 ? "Haha I know you're playing.." :
              attempts === 2 ? "Actually..?" :
              "Alright then :'(";

            if (attempts >= 3) {
              answers.push({ q: q.text, a: val + "%" });
              current++;
              render();
            }
          }
        };
      } else {
        q.options.forEach(opt => {
          const b = document.createElement("button");
          b.className = "btn option";
          b.textContent = opt;
          b.onclick = () => {
            answers.push({ q: q.text, a: opt });
            current++;
            render();
          };
          app.appendChild(b);
        });

        const input = document.createElement("input");
        input.className = "other-input";
        input.placeholder = "Something else from your heart‚Ä¶";
        app.appendChild(input);

        const btn = document.createElement("button");
        btn.className = "btn";
        btn.textContent = "Continue üíñ";
        btn.onclick = () => {
          answers.push({ q: q.text, a: input.value || "‚Äî" });
          current++;
          render();
        };
        app.appendChild(btn);
      }

      app.innerHTML += `<div class="small">${current + 1} / ${questions.length}</div>`;
    }

    render();
  </script>
</body>
</html>
