<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Love Quiz ðŸ’—</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: "Segoe UI", sans-serif;
  background: linear-gradient(135deg, #ffd6e8, #ffeaf4);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

/* ðŸ’ž Floating hearts */
.heart {
  position: fixed;
  bottom: -20px;
  animation: floatUp linear infinite;
  opacity: 0.8;
  pointer-events: none;
}

@keyframes floatUp {
  from { transform: translateY(0); opacity: 0.8; }
  to { transform: translateY(-110vh); opacity: 0; }
}

.card {
  background: #fff0f6;
  border-radius: 28px;
  padding: 26px;
  max-width: 420px;
  width: 100%;
  text-align: center;
  box-shadow: 0 20px 40px rgba(255,105,180,.25);
  z-index: 2;
}

h2 {
  color: #d63384;
}

button {
  width: 100%;
  padding: 14px;
  margin-top: 12px;
  border-radius: 999px;
  border: none;
  background: #ff69b4;
  color: white;
  font-size: 16px;
  cursor: pointer;
}

button:hover {
  background: #ff85c1;
}

input[type="range"] {
  width: 100%;
  margin-top: 10px;
  accent-color: #ff69b4;
}

.other {
  width: 100%;
  padding: 14px;
  margin-top: 10px;
  border-radius: 999px;
  border: 2px solid #ffb6d5;
  text-align: center;
  font-size: 15px;
}

.small {
  margin-top: 12px;
  color: #ff8fb1;
  font-size: 14px;
}
</style>
</head>

<body>
<div class="card" id="app"></div>

<script>
/* ðŸ’ž hearts */
setInterval(() => {
  const h = document.createElement("div");
  h.className = "heart";
  h.textContent = "ðŸ’ž";
  h.style.left = Math.random() * 100 + "vw";
  h.style.fontSize = 16 + Math.random() * 20 + "px";
  h.style.animationDuration = 6 + Math.random() * 4 + "s";
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 9000);
}, 600);

/* quiz data */
const questions = [
  { type: "scale", q: "Firstlyyyyyy, how much do you honestly love me?" },
  { q: "When you miss me, what do you want most?", o: ["Hug me", "Call me", "See me"] },
  { q: "Whatâ€™s your favorite way I show love?", o: ["Words", "Actions", "Affection"] }
];

let index = 0;
let answers = [];
const app = document.getElementById("app");

function render() {
  app.innerHTML = "";

  if (index >= questions.length) {
    app.innerHTML = `
      <h2>A Letter For You ðŸ’Œ</h2>
      <p style="color:#d63384; line-height:1.6">
        My love,<br><br>
        This quiz wasnâ€™t to test you.
        It was to smile at every answer.
        <br><br>
        I choose you. Always.
      </p>
      ${answers.map(a => `<p><b>${a.q}</b><br>ðŸ’— ${a.a}</p>`).join("")}
    `;
    return;
  }

  const q = questions[index];
  app.innerHTML = `<h2>${q.q}</h2>`;

  /* FIRST QUESTION â€” FIXED */
  if (q.type === "scale") {
    app.innerHTML += `
      <div id="val" style="font-size:32px;color:#ff69b4">100%</div>
      <input id="range" type="range" min="0" max="100" value="100">
      <button id="go">Continue ðŸ’–</button>
    `;

    document.getElementById("range").oninput = e =>
      document.getElementById("val").textContent = e.target.value + "%";

    document.getElementById("go").onclick = () => {
      const v = document.getElementById("range").value;
      answers.push({ q: q.q, a: v + "%" });
      index++;              // â† THIS NOW ALWAYS RUNS
      render();
    };
  }

  /* OTHER QUESTIONS */
  if (q.o) {
    q.o.forEach(opt => {
      const b = document.createElement("button");
      b.textContent = opt;
      b.onclick = () => {
        answers.push({ q: q.q, a: opt });
        index++;
        render();
      };
      app.appendChild(b);
    });

    const input = document.createElement("input");
    input.className = "other";
    input.placeholder = "Otherâ€¦";
    app.appendChild(input);

    const cont = document.createElement("button");
    cont.textContent = "Continue ðŸ’–";
    cont.onclick = () => {
      answers.push({ q: q.q, a: input.value || "â€”" });
      index++;
      render();
    };
    app.appendChild(cont);
  }

  app.innerHTML += `<div class="small">${index + 1} / ${questions.length}</div>`;
}

render();
</script>
</body>
</html>
